"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[823],{823:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var a=t(5861),n=t(9439),c=t(4687),s=t.n(c),u=t(4805),i=t(2791),l=t(2989),o=t(184),d=function(){var e=(0,u.useMediaQuery)({query:"(min-width: 1280px)"}),r=e?"100px":"65px";return(0,o.jsx)(l.RL,{height:e?"120":"70",width:e?"120":"70",radius:"48",color:"#ffffff",ariaLabel:"watch-loading",wrapperStyle:{justifyContent:"center",marginTop:r},visible:!0})},h=t(1243),p="https://api.monobank.ua/bank/currency";function f(){return(f=(0,a.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get(p);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){return f.apply(this,arguments)},y={root:"Currency_root__GvO+H","modal-open":"Currency_modal-open__3WQ42","hidden-button":"Currency_hidden-button__HJKr3",currency:"Currency_currency__176L+",td:"Currency_td__XyIWp",th:"Currency_th__twaoP",table:"Currency_table__B9VRR",tr:"Currency_tr__piQmW",error:"Currency_error__Lpvc1"},x=t(8353),_=t(4842),b=function(e,r){return JSON.parse(localStorage.getItem(e))||r},N=!1,v=!1,g=b("currency",[]),j=b("currencyFetchDate"),C=Date.now()-j>36e4,w=function(){var e=(0,i.useState)(g),r=(0,n.Z)(e,2),t=r[0],c=r[1],l=(0,i.useState)(N),h=(0,n.Z)(l,2),p=h[0],f=h[1],b=(0,i.useState)(v),j=(0,n.Z)(b,2),w=j[0],S=j[1];(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(g.length>0)||C){e.next=3;break}return e.abrupt("return");case 3:return f(!0),e.next=6,m();case 6:r=e.sent,t=r.data,f(!1),c(t),localStorage.setItem("currency",JSON.stringify(t)),localStorage.setItem("currencyFetchDate",JSON.stringify(Date.now())),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0.message,S(!0),f(!1);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var k=(0,u.useMediaQuery)({query:"(max-width: 1279px)"});if(0!==t.length){var F=t.find((function(e){var r=e.currencyCodeA,t=e.currencyCodeB;return 840===r&&980===t})),Z=t.find((function(e){var r=e.currencyCodeA,t=e.currencyCodeB;return 978===r&&980===t})),B='url("'.concat(k?_:x,'")');return(0,o.jsxs)("div",{className:y.currency,style:{backgroundImage:B},children:[p&&(0,o.jsx)(d,{}),w&&(0,o.jsx)("p",{className:y.error,children:"Exchange rate information is not available at the moment, please try again later."}),!p&&!w&&(0,o.jsxs)("table",{className:y.table,children:[(0,o.jsx)("thead",{className:y.thead,children:(0,o.jsxs)("tr",{className:y.tr,children:[(0,o.jsx)("th",{className:y.th,children:"Currency"}),(0,o.jsx)("th",{className:y.th,children:"Purchase"}),(0,o.jsx)("th",{className:y.th,children:" Sale"})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{className:y.tr,children:[(0,o.jsx)("td",{className:y.td,children:"USD"}),(0,o.jsx)("td",{className:y.td,children:Number(F.rateBuy).toFixed(2)}),(0,o.jsx)("td",{className:y.td,children:Number(F.rateSell).toFixed(2)})]}),(0,o.jsxs)("tr",{className:y.tr,children:[(0,o.jsx)("td",{className:y.td,children:"EUR"}),(0,o.jsx)("td",{className:y.td,children:Number(Z.rateBuy).toFixed(2)}),(0,o.jsx)("td",{className:y.td,children:Number(Z.rateSell).toFixed(2)})]})]})]})]})}}},4842:function(e,r,t){e.exports=t.p+"static/media/bg-tab-curr.95fd88fa9a5386a95903.png"},8353:function(e,r,t){e.exports=t.p+"static/media/currency-table.5873239d20b739ffc907.png"}}]);
//# sourceMappingURL=823.d0fd3534.chunk.js.map